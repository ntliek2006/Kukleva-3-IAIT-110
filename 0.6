const int potPin = A0;
const int ledPin = 13;
const int buttonPin = 2;

int savedBrightness = 0;
bool brightnessLocked = false;

void setup() {
  pinMode(ledPin, OUTPUT);
  pinMode(buttonPin, INPUT_PULLUP);
  Serial.begin(9600);
}

void loop() {
  int buttonState = digitalRead(buttonPin);
  int potValue = analogRead(potPin);
  int brightness = map(potValue, 0, 1023, 0, 255);
  
  if (buttonState == LOW) {
    
    analogWrite(ledPin, savedBrightness);
    Serial.println("Изменение яркости невозможно!");
  } else {

    savedBrightness = brightness;
    analogWrite(ledPin, brightness);
    Serial.print("Текущая яркость: ");
    Serial.println(potValue);
  }
  
  delay(100);
}
